# Ch.17 냄새와 휴리스틱

- 휴릭스틱 : 경험적 지식에 의존하는 것 

## 주석
- 부적절한 정보: VCS로 충분히 확인할 수 있는 정보 
- 쓸모 없는 주석
- 중복된 주석 
- 성의 없는 주석: 작성할 가치가 있는 주석이라면 잘 작성하라.
- 주석 처리된 코드

## 환경
- 여러 단계로 빌드해야 한다: 한 명령으로 빌드 가능해야 함
- 여러 단계로 테스트해야 한다: 버튼 하나로 모든 테스트 가능해야 함 

## 함수
- 너무 많은 인수: 인수 개수는 작을 수록 좋다. 
- 출력 인수:입력으로 간주하기 때문에 출력 인수는 피하자.
- 플래그 인수: SRP를 위반하는 행위임 
- 죽은 함수: 과감히 삭제하자.

## 일반
- 한 소스 파일에 여러 언어를 사용: 나쁘게 말하면 조잡하다🥸
- 당연한 동작을 구현하지 않는 것: 독자가 기대하는 행위를 해야만 한다. 
- 경계를 올바로 처리하지 않는다: 직관에 의존하지 말고 모든 경계를 찾아 테스트해라
- 안전 절차 무시: 컴파일러 경고 일부를 무시하지 말자. 빛이다.
- 중복:DRY, 어디서든 중복을 발견하면 없애라.
- 추상화 수준이 올바르지 못하다:고차원과 저차원이 섞여서는 안된다. 잘못된 추상화 수준은 거짓말이나 꼼수로 해결하지 못한다.
- 기초 클래스가 파생 클래스에 의존한다: 기초 클래스는 파생 클래스를 아예 몰라야 한다. 
- 과도한 정보: 작은 인터페이스가 잘 정의된 모듈임, **작을수록 좋다**
- 죽은 코드: 장례식을 치뤄주고 제거하자.
- 수직 분리: 사용되는 위치와 가까운 곳에 위치할 것
- 일관성 부족: 유사이름 사용
- 잡동사니: 제거해라 
- 인위적 결합: 시간을 들여 올바른 위치를 고민한다. 
- 기능 욕심: 한 클래스의 속사정을 다른 클래스에 노출하므로, 별다는 문제가 없다면 제거해라.
- 선택자 인수: 여러 함수를 하나로 조합시키는 선택자 인수 사용을 피하자. 새로운 함수를 만드는 편이 좋다.
- 모호한 의도: 의도를 분명히 표현하도록 시간을 투자할 가치가 있다. 
- 잘못 지운 책임
- 부적절한 static 함수: 특정 객체와 관련이 있다면 혹은 static으로 만들어도 될까? 모호하다면 static보다는 인스턴스 함수가 더 좋다.
- 서술적 변수:`String key = match.group(1);` 그룹 1이 키라는 것이 명확하다. 서술적 변수는 많을수록 더 좋다. 
- 이름과 기능이 일치하는 함수: 아주 좋다. 
- 알고지름을 이해하라: 구현이 끝났다고 선언하기 전에 함수가 돌아가는 방식을 확실히 이해하는지 확인하자. 
- 논리적 의존성은 물리적으로 드러내라
- If/Else 혹은 Switch/Case 문보다 다형성을 사용하라: 같은 선택을 수행하는 다른 코드에서는 다형성 객체를 생성해 switch 문을 대신한다.
- 표준 표기법을 따르라
- 매직 숫자는 명명된 상수로 교체하라: 그러나 너무나도 잘 알려진 고유한 숫자라면 숫자를 사용해도 된다. 
- 정확하라: 코드에서 모호성과 부정확은 의견차나 게으름의 결과다.
- 관례보다 구조를 사용하라: 추상 메서드가 있는 기초 클래스가 더 좋다.
- 조건을 캡슐화하라: `if (timer.hasExpired() && !timer.isRecurrent())` 보다는 `if (shouldBeDeleted(timer))` 가 더 좋다. 
- 부정 조건은 피하라: 부정보다는 긍정 표현이 더 좋다.
- 함수는 한 가지만 해야 한다: 세가지 일을 하는 함수보다는 함수를 셋으로 나누는 것이 더 좋다. 
- 숨겨진 시간적인 결합: A를 해야만 B의 결과가 제대로 나온다면 반드시 A가 먼저 실행되게끔 처리하자.
- 일관성을 유지하라
- 경계 조건을 캡슐화하라: `level + 1`이라는 표현이 여러번 사용된다면 `int nextLevel = level + 1;`로 선언해 사용하자.
- 함수는 추상화 수준을 한 단계만 내려가야 한다. 
- 설정 정보는 최상위 단계에 둬라 
- 추이적 탐색을 피하라: 자신이 직접 사용하는 모듈만 알아야 한다.  

## 자바
- 긴 import 목록을 피하고 와일드카드를 사용하라 
- 상수는 상속하지 않는다
- 상수 대 Enum: Enum을 쓰자.

## 이름
- 서술적인 이름을 사용하라: SW 가독성의 90%는 이름이 결정한다.
- 적절한 추상화 수준에서 이름을 선택하라 
- 가능하다면 표준 명명법을 사용하라: 프로젝트에 유효한 의미가 담긴 이름을 많이 사용할수록 독자가 코드를 이해하기 쉬워진다. 
- 명확한 이름 
- 긴 범위는 긴 이름을 사용하라: 이름 범위가 길수록 이름을 정확하고 길게 짓는다.
- 인코딩을 피하라: `m_`이나 `f_` 같은 접두어는 불필요하다.
- 이름으로 부수 효과를 설명하라 

## 테스트
- 불충분한 테스트: 테스트 케이스는 잠재적으로 깨질 만한 부분을 모두 테스트해야 한다. 
- 커버리지 도구를 사용하라! 
- 사소한 테스트를 건너뛰지 마라 
- 무시한 테스트는 모호함을 뜻한다
- 경계 조건을 테스트하라: 각별히 신경 쓰자.
- 버그 주변은 철저히 테스트하라
- 실패 패턴을 살펴라 
- 테스트 커버리지 패턴을 살펴라
- 테스트는 빨라야 한다
