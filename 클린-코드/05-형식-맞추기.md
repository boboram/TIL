# Ch.05 형식 맞추기

## 형식을 맞추는 목적
- 원래 코드는 사라질지라도 개발자의 스타일과 규율은 사라지지 않는다.
- 그 방법에 대해서 알아보자.

## 적절한 행 길이를 유지하라
### 세로 길이
- Junit, FitNesse 는 500줄을 넘어가는 파일이 없으며 대다수 200줄 미만이다 ==> **적은 줄의 파일로도 커다란 시스템을 구축할 수 있다**
- 일반적으로 큰 파일보다 작은 파일이 더 이해하기 쉽다.

### 신문 기사처럼 작성하라
- 위에서 아래로 기사를 읽듯이 코드도 큰 개념부터 아래 하위 개념으로 나열한다.

### 개념은 빈 행으로 분리하라
- **빈 행은 새로운 개념**을 시작한다는 시각적 단서

### 세로 밀집도
- 줄바꿈이 개념을 의미한다면 **세로 밀집도는 연관성**을 의미한다.

### 수직 거리
- 서로 밀집한 개념은 세로로 가까이 둬야 한다.
- 밀접한 개념은 한 파일에 속해야 마땅하다
  - protected 변수를 피해야 하는 이유 중 하나

## 변수 선언
- 변수는 사용하는 위치에 **최대한 가까이** 선언

## 인스턴스 변수
- 변수와 달리 인스턴스 변수는 자바에 경우 클래스 맨 처음에 선언한다. C에 경우 클래스 맨 아래에 선언한다.
  - 누구에게나 **잘 알려진 위치에 인스턴스 변수를 모은다**는 사실이 중요

## 종속 함수
- 한 함수가 다른 함수를 호출한다면 두 함수는 **세로로 가까이 배치**한다.
- **호출하는 함수를 호출되는 함수보다 먼저 배치**

## 개념적 유사성 
- **친화도가 높을수록 코드를 가까이 배치**한다
- assertTrue, assertFalse 등
  - 친화도가 높은 함수들은 명명법이 똑같고 기본 기능이 유사하고 간단하다.

### 세로 순서 
- 호출되는 함수를 호출하는 함수보다 나중에 배치한다.
- 가장 중요한 개념(호출하는 함수)를 가장 먼저 표현
- 세세한 사항은 가장 마지막에 표현

## 가로 형식 맞추기 
- 120자 정도로 행 길이를 제한하는 것을 추천 

### 가로 공백과 밀집도
- `int lineSize = line.length();`
  - 공백을 넣으면 두 가지 주요 요소가 확실히 나뉜다는 사실이 더욱 분명해진다.
- `testFun(num);`
  - 함수 이름과 이어지는 괄호 사이에는 공백 X, 함수와 인자는 서로 밀접하기 때문
- `b*b - 4*a*c;`
  - 승수 사이에는 공백X, 항 사이에는 공백이 들어감 ==> IDE에 의해서 승수 사이에 공백 생김

### 가로 정렬
```
private long    requestParsingDeadline;
private boolean hasError;
```
- 위 예제를 보면 변수 유형은 무시하고 변수 이름부터 읽게 된다.
위 보다는 아래 코드가 더 낫다.
```
private long requestParsingDeadline;
private boolean hasError;
```
- 선언부가 길다면 클래스를 쪼개야 하지 정렬이 중요한 것이 아니다.

### 들여쓰기
- 들여쓰기가 없다면 인간이 코드를 읽기란 거의 불가능하다.

## 들여쓰기 무시하기
```
public String render() throws Exception {return ""; }
```
보다는 아래가 더 낫다.
```
public String render() throws Exception {
  return "";
}
```
### 가짜 범위
- 빈 while 문이라면 **코드 아래에** `;`을 넣는 것이 낫다.
```
while (dis.read(buf, 0, readBufferSize) != -1)
;
```

## 마무리  
> 좋은 소프트웨어 시스템은 **읽기 쉬운 문서로 이뤄진다는 사실**을 기억하기 바란다.
