
# Ch.03 함수
- 어떤 프로그램이든 가장 기본적인 단위는 함수임
- 긴 함수는 가독성도 좋지 않고 의미를 파악하기 쉽지 않은데 어떤 함수가 좋은 함수일까? 
## 작게 만들어라!
- 첫째는 작게! 둘째는 더 작게!
- if 문/else 문/while 문 등에 들어가는 **블록은 한줄**이어야 한다.
  - 중첩 구조가 생길만큼 함수가 커져서는 안 된다.
## 한 가지만 해라!
> 함수는 한 가지를 해야 한다. 그, 한 가지를 잘 해야 한다. 그 한 가지만을 해야 한다.
- 지정된 함수 이름 아래에서 추상화 수준이 하나인 단계만 수행한다면 그 함수는 한 가지 작업만 한다.
- 한 가지 작업만 하는 함수는 자연스럽게 섹션으로 나누기 어렵다.
## 함수 당 추상화 수준은 하나로!
- 내려가기 규칙 : 코드는 **위에서 아래로 이야기**처럼 읽혀야 좋다.
  - 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다. 추상화 수준이 한 번에 한 단계씩 낮아진다.
## Switch 문 
- 여러가지 일을 하는 switch 문에서 한가지 일만을 하게끔 처리하기란 쉽지 않음
- switch 문을 추상 팩토리에 꽁꽁 숨기고 팩토리에서 switch 문을 사용해 적절한 코드를 실행하게끔 짠다.
## 서술적인 이름을 사용하라!
- 좋은 이름이 주는 가치는 아무리 강조해도 지나치지 않다.
- **길고 서술적인 이름이 짧고 어려운 이름보다 좋다. 길고 서술적인 이름이 길고 서술적인 주석보다 좋다**
- 이름을 정하느라 시간을 들여도 괜찮다. 요새는 이름을 변경해도 IDE에서 편하게 지원해준다.
- 함수명의 문체가 비슷하면 이야기를 순차적으로 풀어가기도 쉬워진다.
## 함수 인수
- 3개 이상의 인수는 가능한 피하는 편이 좋다.
- N개마다 보낼 수 있는 조건이 다르다.
### 함수 인수 > 단항 형식
- `boolean fileExists("MyFile")` : 해당 인수가 어떤지를 체크하고자 할 때
- 한개의 인수를 변환해 결과를 반환하고자 할 때
- 위 같은 쓰임이 아니라면 단한 함수는 가급적 피한다.
#### 플래그 인수
- 플래그 인수는 추하다😭
- bool 값으로 처리 유무를 보내지 말고 그런 기능을 하는 함수를 두 개 만들자.
  - `render(boolean isSuite)` 대신 `renderForSuite()` 과 `renderForSingleTest()`로 나눈다.
### 함수 인수 > 이항 함수 
- 한 개인 인수보다 두 개인 인수가 더 이해하기 어렵다.
- `new Point(0, 0)` 가 이항 인수의 좋은 예  
  - 인수 2개는 한 값을 표현하는 두 요소다. 순서가 존재한다. 보기 좋다.
- `assertEquals(expected, actual)` : 순서를 앞에가 기대값이라는 기억을 하고 있어야 한다. 아쉬운 문제가 있는 함수다.
### 함수 인수 > 삼항 함수
- `Circle makeCircle(double x, double y, double radius);` 
  - x,y는 Point라는 객체로 뺄수 있는 함수다. **3항 인수라면 최대한 줄일 수 있는 방법을 찾는다**. 
  - `Cicle makeCircle(Point center, double radius);` 로 줄이기 가능
### 동사와 키워드
- 함수의 의도나 인수의 순서와 **의도를 제대로 표현하려면 좋은 함수 이름**이 필수
- `write(name)` -> `writeField(name)` : name이 필드라는게 분명히 드러난다.
- `assertEquals` -> `assertExpectedEqualsActual(expected, actual)` 이 더 낫다. : **함수 이름에 인수 이름을** 넣는다.

## 부수 효과를 일으키지 마라!
- 부수 효과 : 원래의 목적과 다르게 다른 효과 or 부작용이 나는 상태
- 패스워드 확인 함수에서 확인외에 세션 초기화 기능이 있다면? 
  - 세션 초기화 기능이 부수 효과이며 이는 해당 함수에 있어서는 안된다. 
  - 클라이언트는 패스워드 확인만 할 줄 알고 함수를 호출했는데 세션 초기화까지 되는 상황에 놓인다.
  - **함수명을 더 명확히 하거나 이 둘을 분리**한다.
### 출력 인수
- 함수 인수는 입력으로 해석됨 
- `public void appendFooter(StringBuffer report)` : 출력인수 report를 인수로 받고 있다. 
  - 출력인수로 사용하라고 설계한 **this 변수**를 대신 사용하자. : `report.appendFooter()`로 대체 가능
## 명령과 조회를 분리하라!
- 뭔가를 수행하거나 뭔가에 답하거나 **둘 중 하나만 해야 한다.**
  - 객체 상태를 변경하거나 아니면 객체 정보를 반환하거나 둘 중 하나만 하자
## 오류 코드보다 예외를 사용하라!
- 오류 코드를 사용하면 오류 상황이 추가될 때마다 코드가 추가된다. 
  - 반면 **오류 코드 대신 예외를 사용**하면 오류 처리 코드가 원래 코드에서 분리되므로 코드가 깔끔해진다.
 - **오류 처리도 한 가지 작업**만 해야 한다.
## 반복하지 마라!(DRY : Don't Repeat Yourself)
## 함수를 어떻게 짜죠?
- 소프트웨어를 짜는 행위는 여느 **글짓기와 비슷**하다
  - 초안 코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거한다.
  - 메서드를 줄이고 순서를 바꾼다. 때로는 전체 클래스를 쪼개기도 하면서 항상 단위 테스트를 통과한다.
  - 처음부터 탁 짜내지 않는다. 그게 가능한 사람은 없을듯?  
- 함수는 그 언어에서 동사며, 클래스는 명사다.
- master 프로그래머는 시스템을 구현할 프로그램이 아니라 **풀어갈 이야기**로 여긴다.
- **길이가 짧고, 이름이 좋고, 체계가 잡힌 함수**
- 진짜 목표는 시스템이라는 이야기를 풀어가는데 있다는 사실에 명심하기
