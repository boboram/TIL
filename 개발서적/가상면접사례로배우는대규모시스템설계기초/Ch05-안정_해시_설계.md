# Ch05. 안정 해시 설계

## 안정 해시
- 안정 해시(consistent hash)는 해시 테이블 크기가 조정될 때 평균적으로 오직 k/n개의 키만 재배치하는 해시 기술이다.
  - k : 키의 개수, n : 슬롯 개수
- 서버 조회 : 어떤 키가 저장되는 서버는, 해당 키의 위치로부터 시계 방향으로 링을 탐색해 나가면서 만나는 첫 번째 서버다.
- 서버 추가 : 키 가운데 일부만 재배치된다. 추가된 서버와 이전 서버 사이에 있는 키만 재배치된다.
- 서버 제거 : 삭제된 서버 다음 서버로 키가 재배치된다.
- 파티션의 크기 균등 문제를 해결 하기 위해 가상 노드 기법이 제안되었다. 가상 노드는 실제 노드를 가리키는 노드이다.
- 안정 해시를 사용하면 서버가 추가되거나 삭제될 때 재배치되는 키의 수가 최소화된다.
